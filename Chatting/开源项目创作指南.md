# 开源项目创作指南

## 前言

> 开源，是这个时代的主旋律。作为一名Android开发工程师，我有理由相信我们是开源的最大受益者，因为那个养活我们的Android其本身就是Google的开源项目。在这样一个开源的时代，就连之前那个最排斥开源的"微软"也不得不积极拥抱开源，大手笔收购github以表自己的开源决心。

前段时间我在逛github的时候，偶然间发现，我的github已经拥有12个star过百的开源项目，2个star过千的项目。回首一想，原来我做开源项目已经快3年了，想想这一路走下来真的非常不易。

![github_xuexiangjys.png](https://img.rruu.net/image/5fb9222270a08)

深夜和周末是我做开源项目的主战场，电脑和AndroidStudio是我创作的纸笔，各种bug和issues是我通往卓越项目的拦路虎，经常为了解决一个问题独自思考到凌晨。这其中还要饱受喷子们的挖苦和质疑，以及白嫖党的夺命连环call。当然，也会有人站出来说几句公道话，但是平心而论，国内的开源环境真的很差。

如果不是因为对技术的热爱以及支持者的鼓励，我相信我很难坚持下去，就像那些渐渐消失的开源项目创作者一样，提交记录永远地停留在了那一刻。

所以，为了能够记录下我的这段艰苦开源之旅，同时也是希望能够改善国内的开源环境，帮助更多希望从事开源项目的有志青年，我决定写下这篇开源项目经验总结。

## 为什么做开源项目

> 在决定做开源项目之前，你非常有必要问一下自己：我到底为什么要做开源项目？无论是出于什么目的，只要你有答案的话，那么你就可以继续往下看，否则以下的内容可能对你来说没有任何意义。

说起开源，就不得不提Google这家极具开源精神的公司。作为一家美国科技公司，每年都在不断地对外输出着无数优质的开源项目，与此同时，近几年我们国家的科技公司们也开始着手开源计划，开源了不少有趣的项目。

那么为什么大型的科技公司都在积极地做开源项目呢？其实原因很简单，无非就是为了名气和企业的形象嘛。作为一家市值超百亿的科技公司，不搞点开源项目出来装装逼，都不好意思说自己是大厂。

那么作为我们个人开发者而言，有必要做开源项目吗？在回答这个问题前，你有必要问一下自己：你真的热爱做技术吗？如果说你做技术的目的只是为了养家糊口的话，我觉得接接私活，做做外包比较适合你。因为做开源项目真的是那些"闲得蛋疼"的人打发时间的玩具，在这条道路上你会发现非常没有"钱途"。只有当你真正将技术作为一种兴趣来热爱的时候，你才能体会到那种开源项目被无数人引用后的价值和喜悦感。

所以，说了这么多，我们究竟为什么要做开源项目呢？以下列举我的几点理由，供大家参考：

* 提高自己的技术水平。毕竟开源项目就相当于把自己扒光了给别人看，也许这样比喻不是很恰当，但确实能提高自己代码的质量和解决问题的能力。毕竟如果你的开源项目真的有人用的话，你必然会收到很多的issue以及建议，这些东西可能你之前根本就没有想到。
* 让项目变得更加健壮。开源的最大妙处就在于，任何人都有权利看到你项目的代码，提出自己的建议。这其中就有可能发现项目中存在的漏洞，以及一些非常有建设性的建议，同时也能让你明白自己项目中存在的不足，这样就会推动项目不断的优化升级，项目的质量也会呈螺旋型上升而变得更加健壮。
* 结交志同道合的朋友。你在做开源项目的同时，很容易就能结交到与自己志同道合的开源创作者，毕竟大家都是希望开源项目越做越好，很有可能你的开源项目被其他的开源者所赏识而一同开发和维护。这样一来一去你们很有可能成为"同志"，哈哈。
* 帮助他人，提升自己的行业影响力。这也是很多人做开源的重要目的。如果你有幸能够在某个领域做出一个非常优质的开源项目并且有很多人引用的话，那么你在该领域的名气一定会蹭蹭的往上冒，到那时什么都会有的，具体可参考vue.js的创作者：尤雨溪。
* 展示个人的技术水平。很多人做开源项的目的就是它能够在应聘面试中加分，尤其是应聘某些大厂。因为通过那短短几小时的面试其实并不能很全面地考察出一个人的技术水平，而且面试通常仅仅是两个人面对面空谈几小时，如果这个时候你能拿出一个较为优秀的开源项目的话，一定会加分不少，至少能在面试前给面试官营造一个不错的印象。
* 实现自己的人生价值。开源给予了你无穷大的创作自由，在上面没有产品经理提出的各种脑残需求，也没有测试提出的各种过度测试bug，更没有各种技术条条框框以及企业规范。你可以做任何你认为对或者感兴趣的事情；你可以实现自己儿时改变世界的梦想；你可以留下你在这个世上存在过的印记；你可以...开源给予你无穷大的舞台，你可以做很多有意义的事情，当热前提还是不能违法法律...触犯法律的事情我们不能做，毕竟还是保命要紧，哈哈。
* 收获意想不到的业余收入。虽然开源是免费的，不应以盈利为目的。但是不得不说没有经济效益的驱使，单纯靠对技术的热爱其实是很难坚持下去的，尤其是当你面对很多现实生活的压力时，情怀就显得那么苍白无力，这也是为什么各大开源平台都为开源者提供了赞助和打赏的渠道，毕竟开源者也要赚钱生活。好的开源项目其实是能够收获相当可观的打赏的，更有甚者可以搞一个商用版，授权使用，赚取服务费等，当然能做到这一步的开源项目还是不多的。

## 如何做好开源项目

> 上面我简单讲述了我们为什么要做开源项目，如果此刻你心中有了答案，那么恭喜你，你已经成为一名准开源创作者，那么下一步我们就是探讨如何做好一个开源项目。

我做了近3年的开源项目，其中最为成功的 [XUI](https://github.com/xuexiangjys/XUI) 近600次的代码提交，齐全的文档和视频教程，目前也不过收获了2.7k的star量，所以说做好一个开源项目其实是非常不易的。

下面我就简单拿 [XUI](https://github.com/xuexiangjys/XUI) 项目为例，简单介绍一下衡量一个开源项目质量的几项指标。

![open_project.png](https://img.rruu.net/image/5fba7684a3771)

* 项目的热门程度：项目的star、fork和watch量。
* 项目的活跃度：这里考量的因素包含issue的总体数量、open issue和closed issue的数量、issue回复和解决的速度、pull requests的数量、项目最后一次提交的时间。
* 文档是否齐全：是否有wiki或者README.md。
* 项目的稳定性：代码提交的频率，项目版本发布的频率。
* 项目的潜力：项目开发的分支数、项目的开发计划以及项目参与者的数量等。
* 项目代码的质量：设计是否合理，是否符合设计模式原则，考虑项目的可扩展性、便利性和稳定性。
* 开源作者的水平：作者其他项目的star量和行业影响力。

只有了解了以上指标，我们才能创作出更加优质的开源项目。那么说了这么多，我们如何才能做好一个开源项目呢？请继续往下看！

### 选对开源托管平台

开源托管平台以 [github](https://github.com/) 作为首选，[码云](https://gitee.com/) 作为备份。

虽然目前市面上开源项目的托管平台非常多，比如：码云、码市、gitlab、BitBucket、SourceForge，不过我还是极力推荐github，毕竟github使用的人群最广，人数最多，谁不想自己幸苦创作的开源项目能被更多人看见呢。虽然github是一家美国企业，日后有被禁掉的风险，但是我相信一个崇尚自由、民主的国家，对禁开源平台这件事情还是不会那么顺利的，毕竟开源无国界，开源不应政治化，商业化！如果你还是担心github日后会被禁，那么很简单，你直接把你的github项目一键导入到码云中作为备份，毕竟码云是得到国家认可的，还是比较可靠的。

### 好的创意或者理念

如果一项功能、一件事情大家每次都需要重复去做，但是又没有什么好的解决方案或者轮子的话，这个时候我们就可以尝试去做一个。

一个好的开源项目都是为了解一个问题而诞生的。如果你有好的创意或者理念，那么你就更能吸引更多的人参与到项目的建设中，那样也会有更多的人关注到你的项目，这样你的项目想不火起来都难。

我当初创作 [XUI](https://github.com/xuexiangjys/XUI) 就是希望能够简化Android界面开发的难度，提升Android界面开发的效率而做的尝试。相信做过Android的人都知道Android原生组件在国内很不受设计师的待见，至于Google推行的Material Design设计风格更是无人问津，这就导致了设计师给出的原型图几乎是清一色的IOS风格，更尴尬的是，网上Android相关的开源UI库是少之又少，几乎所有的基础组件都需要自己重写。正巧当时我接触到了React和Vue，发现它们都有非常方便的UI库，直接在示例代码的基础上修修改改就能大致上实现自己想要的效果，极大地提高了开发的效率,后来我又借鉴了[QMUI](https://github.com/Tencent/QMUI_Android) 相关的思想，最终创作出了 [XUI](https://github.com/xuexiangjys/XUI) 这个开源项目。

所以，一个好的创意或者理念对于开源项目来说非常重要，可以说是开源项目的灵魂。

### 好的设计和代码质量

> 如果说一个好的创意或者理念是开源项目的灵魂的话，那么一个好的设计和代码质量就是开源项目的骨骼和肉体了。

#### 掌握设计模式

要想有好的设计，首先你需要非常熟练地掌握`设计模式`，那么如何才能熟练地掌握`设计模式`呢？在这里我可以教大家一些经验：

* 1.首先了解设计模式的几大基本原则。这里我有一篇讲关于 [设计模式原则的博客](https://xuexiangjys.blog.csdn.net/article/details/78924201) 可供大家参考。
* 2.其次初步学习现有的二十几种设计模式，并在平时的工作或者开源项目中尝试使用。这里我有一个专门介绍[设计模式使用的开源项目](https://github.com/xuexiangjys/architect-java/tree/master/src/designpattern) ,里面有相应的介绍和源码可供大家参考。
* 3.最后等你熟练使用了上面的二十几种设计模式后，忘掉他们，重新回顾之前的设计模式基本原则，并以此作为日后项目设计的基本原则。

其实学习`设计模式`非常像武侠小说中修练一门武功，学习设计原则是修炼心法、内功，而学习现成设计模式则是修炼招式。只有提升内功，牢记心法，忘记招式才能真正意义上掌握了`设计模式`这一项技艺。

#### 严格的代码规范




